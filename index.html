<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Second attempt as issue #99</title>

    <link rel="stylesheet" href="css/reveal.css">

  </head>

  <body>

    <div class="reveal">

      <div class="slides">

        <section>
          <h1>Example of issue #99</h1>
        </section>

        <section>
          <h2>First diagram</h2>
          <div id="first-one" class="diagram">
            User->Server: Get home page
            Server-->User: home page
          </div>
        </section>
        <section>
          <h2>Second diagram</h2>
          <div id="second-one" class="diagram">
            User->Server: Get home page
            Server-->User: home page
          </div>
        </section>
        <section>
          <h2>Third diagram</h2>
          <div id="third-one" class="diagram">
            User->Server: Get home page
            Server-->User: home page
          </div>
        </section>

        <section>
          <h2>This slide is required for the error to occur</h2>
        </section>

        <section>
          <h2>This slide is required for the error to occur</h2>
        </section>

        <section>
          <h2>This slide is required for the error to occur</h2>
        </section>

      </div>

    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.2/raphael-min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.4/sequence-diagram-min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize();

      function setupSequenceDiagram(e) {
        var content = e.textContent;
        e.innerHTML = '';
        Diagram.parse(content).drawSVG(e.getAttribute("id"), {theme: 'simple'});
      }

      function setup() {
        Array.prototype.slice.call(document.querySelectorAll("div.diagram")).forEach(setupSequenceDiagram);
      }

      if (document.readyState != 'loading'){
        setup();
      } else {
        document.addEventListener('DOMContentLoaded', setup);
      }

    </script>

  </body>
</html>
